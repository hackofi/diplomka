<!DOCTYPE html>
<html lang="cs" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.springframework.org/security/tags">
<head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <meta name="description" content=""/>
    <meta name="author" content=""/>

    <title>Test Cases</title>
    <!--importované přes fragment-->
    <div th:replace="/fragment/thymeFragment :: headImports"/>

    <!--importované přes fragment - konec-->

</head>

<body>

<!-- Navigation -->
<div th:replace="/fragment/thymeFragment :: menu"></div>

<!-- Page Content -->
<div class="container">
    <div class="well">
        <p>
        <div th:text="#{home.welcome}"></div>
        </p>
        <p th:text="#{welcome}"></p>
        <hr/>
        <p>
        <div th:text="#{login.welcome}"></div>
        </p>
        <p th:text="#{home_cs.jmeno}"></p>
    </div>
    <!-- Page Heading/Breadcrumbs -->
    <div class="row">
        <div class="col-sm-12">
            <h1 class="page-header">
                <small>WEB-INF/templates/tcsAll.html</small>
            </h1>
            <ol class="breadcrumb">
                <li><a href="index">Home</a>
                </li>
                <li class="active">Test Casy</li>
            </ol>
        </div>
    </div>
    <!-- /.row -->

    <div class="row">

        <div class="col-sm-12">
            <div class="jumbotron">
                <h1 class="error-404">Seznam všech Test Casů.
                </h1>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="col-sm-3">
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h4><i class="fa fa-fw fa-gift"></i>Filtr Test Casů</h4>
                </div>

                <div class="panel-body">
                    <p><a th:text="Všechny" th:href="@{tcs(filter='all')}" class="btn btn-mg btn-block btn-default"
                          th:classappend="(${param.filter} == null or ${param.filter[0]} == 'all') ? btn-primary : btn-default"></a>
                    </p>
                    <hr/>
                    <div th:each="project : ${usersProjects}">
                        <p><a th:text="${project.name}" th:href="@{tcs(filter=${project.id})}"
                              class="btn btn-mg btn-block btn-default"
                              th:classappend="(${param.filter} != null and ${param.filter[0]} == ${project.id}) ? btn-primary : btn-default"
                        ></a></p>
                    </div>

                </div>
            </div>
        </div>
        <div class="col-sm-9">

            <form action="#" th:action="@{/tc/copy}" th:object="${tcMustersCopy}" method="post">
                <table class="table table-striped datatable">
                    <thead>
                    <tr>
                        <th></th>
                        <th>TC ID</th>
                        <th>Priorita</th>
                        <th>Název</th>
                        <th>Detail</th>
                        <th>Vytvořeno</th>
                        <th>Test Stepy</th>
                        <th>Více</th>
                    </tr>
                    </thead>
                    <tbody th:remove="all-but-first">
                    <tr th:each="tc : ${tcMusters}">
                        <td><input type="checkbox" th:field="*{tcMusters_id}" th:value="${tc.id}"/></td>
                        <td th:text="${tc.id}">00</td>
                        <td><span th:class="${tc.priority}" th:text="${tc.priority}">Priorita</span></td>
                        <td sec:authorize="hasAuthority('TESTER')"><span th:text="${tc.status}"
                                                                         th:class="${tc.status}">Stav TC</span></td>
                        <td th:text="${tc.name}">Název</td>
                        <td><a href="#" class="opener"
                               th:attr="data-name=${tc.name},
                    data-prerequisite=${tc.prerequisite},
                    data-note=${tc.note}"
                               data-id="#detailDialog">Detail</a>
                        </td>
                        <td th:text="${tc.createdDateTime}" sec:authorize="hasAuthority('ANALYTIC')">datum a čas
                            vytvoření
                        </td>
                        <td sec:authorize="hasAuthority('ANALYTIC')"><a th:href="@{'/ts/ts-by-tcmuster/'+${tc.id}}">Test
                            Stepy</a>
                        </td>
                        <td><a href="#" class="opener"
                               th:attr="data-sourceid=${tc.id}, data-objectid=${tc.id}" data-id="#moreDialog">Více</a>
                        </td>
                    </tr>
                    </tbody>
                    <label for="project_id">Projekt</label>:
                    <select class="form-control" id="project_id" name="project_id">
                        <option th:each="project : ${usersProjects}"
                                th:value="${project.id}"
                                th:text="${project.name}">jméno projektu
                        </option>
                    </select>
                    <input type="hidden" value="trrd" th:value="dasdas"/>

                </table>
                <p><input type="submit" class="btn" value="Zkopíruj"/> <input type="reset" class="btn" value="Reset"/>
                </p>
            </form>


        </div>
    </div>


    <div th:if="${suite != null}" th:remove="tag">
        <a th:href="@{'/tc/create/'(project=${suite.project.id},suite=${suite.id})}" class="btn btn-default">Založit
            Test
            Case</a>
    </div>

    <!--dialogová okna-->
    <div id="moreDialog" title="Více">
        <h3>TC ID: <span id="spanDataObjectId"></span></h3>
        <a th:href="@{'/defect/create'(source='tcInstanceSource_id')}" onclick="addSourceIdToURL(this)" target="_blank"
           class="btn btn-default" sec:authorize="hasAuthority('TESTER')">Založit defekt</a>
        <a th:href="@{'/tc/delete/'}" class="btn btn-default" sec:authorize="hasAuthority('ANALYTIC')">Smazat</a>
        <a href="/defect/defects" class="btn btn-default" sec:authorize="hasAuthority('TESTER')">Seznam Defektů</a>
    </div>

    <div id="detailDialog" title="Detail projektu">
        <h3>Detail Test Casu <span id="spanDataName"></span></h3>
        <h3>Autor test casu: <span id="spanDataOwnerName"> </span></h3>
        <h3>Počet Test Stepů: //dodělat</h3>
        <h4>Datum poslední úpravy: </h4>
        <h4>Autor poslední úpravy: </h4>
        <hr/>
        <h3>Prerekvizity</h3>
        <div id="divDataPrerequisite"></div>
        <hr/>

        <h3>Poznámka</h3>
        <div id="divDataNote"></div>
    </div>

    <!-- Footer -->
    <div th:replace="/fragment/thymeFragment :: footer"></div>

</div>
<!-- /.container -->


</body>

</html>
